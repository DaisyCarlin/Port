# -*- coding: utf-8 -*-

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1fBuOudZbE7W2LUTkVg839Niaiy_ni1Ap
"""

!pip install geopy

import pandas as pd
from geopy.geocoders import Nominatim
from geopy.exc import GeocoderTimedOut
from geopy.extra.rate_limiter import RateLimiter

df = pd.read_csv('clean_data.csv')

df.head()

df2 = df.dropna(axis=1)

df2. head()

def get_lat_long(Country):
  address = f"{Country}"
  try:
    geolocator = Nominatim(user_agent="rank", timeout=10)
    location = geolocator.geocode(address)
    if location:
      return location.latitude, location.longitude
    else:
      return None, None
  except GeocoderTimedOut:
    return None, None

df2['latitude'], df2['longitude'] = zip(*df2.apply(lambda x: get_lat_long(x['Country']), axis=1))

df2.head()

df2['latlong'] = df2['latitude'].astype(str) + ', ' + df2['longitude'].astype(str)

df2.head()

df2.to_csv('clean_data.csv' , index=False)
